{"componentChunkName":"component---src-templates-blog-post-js","path":"/Introduction-to-optimize-hexo-blog/","result":{"data":{"site":{"siteMetadata":{"title":"Blog.kt"}},"markdownRemark":{"id":"6b03c3b0-73a5-5745-8fb7-7d4d45157f18","excerpt":"昨晚在本地折腾博客的时候，总是对自己博客的加载速度很不满意。\n本博客主题用的是 Hexo material theme (现在已经改为 vexo 了 )，于是想看看 viosey 的资源加载情况。\n令我惊异的是，其博客资源的体积都很小…\n一张图片竟然在 9k。果然是大佬 hhh…","html":"<p>昨晚在本地折腾博客的时候，总是对自己博客的加载速度很不满意。\n本博客主题用的是 <del><a href=\"https://material.viosey.com/\">Hexo material theme</a></del> (现在已经改为 <a href=\"https://github.com/yanm1ng/hexo-theme-vexo\">vexo</a> 了 )，于是想看看 <a href=\"https://blog.viosey.com/\">viosey</a> 的资源加载情况。\n令我惊异的是，其博客资源的体积都很小…\n一张图片竟然在 9k。果然是大佬 hhh。\n于是查看了我的博客的资源，决定先从图片压缩开始解决。</p>\n<h1>1. 图片压缩 &#x26; 工具推荐</h1>\n<h2>图片格式选择</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">JPEG</code>: 作为互联网上使用频度最高的图片格式</p>\n<ul>\n<li>sss</li>\n</ul>\n</li>\n<li>\n<p>无透明效果、颜色丰富的图片</p>\n</li>\n<li>\n<p>因为每一次压缩均为有损压缩，所以对于线条、文字较多的图片不建议使用</p>\n</li>\n<li>\n<p><code class=\"language-text\">PNG</code> ：有多种格式可选</p>\n<ul>\n<li>需要透明效果</li>\n<li>色块连续、多纯色</li>\n<li>所有有时候颜色丰富的图片其大小要大于 <code class=\"language-text\">JPEG</code> 格式图片</li>\n<li>可使用无损压缩</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">GIF</code>：目前动画效果支持较好的格式</p>\n<ul>\n<li>在 <code class=\"language-text\">APNG</code> 还未普及的又需要引入动画效果图片的时候可以采用此格式</li>\n</ul>\n</li>\n</ul>\n<p>新的更优秀的图片格式，诸如 <code class=\"language-text\">WebP</code>, <code class=\"language-text\">APNG</code>, 仍然未被浏览器很好的支持，所以在此不赘述。</p>\n<h2>图片压缩工具</h2>\n<p>经过一番查找，发现有如下工具可供使用：</p>\n<ul>\n<li><a href=\"https://tinypng.com/\">TinyPNG</a>：<code class=\"language-text\">PNG</code> 格式图片<strong>在线压缩网站</strong></li>\n<li><a href=\"http://www.nullice.com/limitPNG/\">limitPND</a>：优秀的极限 <code class=\"language-text\">PNG</code> 图片压缩<strong>软件</strong></li>\n<li><a href=\"http://isparta.github.io/\">iSparta</a>：开源的 <code class=\"language-text\">PNG</code> 压缩与格式转换工具</li>\n<li><a href=\"https://zhitu.isux.us/\">智图</a>：高效优质的图片压缩平台，亦有桌面端软件</li>\n</ul>\n<p>上述软件/平台是经过我尝试之后比较<strong>简易</strong>、<strong>高效</strong>同时<strong>免费</strong>的工具，当然我们也可以选择 Photoshop。不过我自己并不\n精通 PS，所以效果并没有上述的好。</p>\n<h2>压缩前的准备</h2>\n<p>有时候我的图片是来自<a href=\"http://unsplash.com/\">Unsplash</a>的原始图片，原本的品质较高，分辨率也较大，相应的体积也就很大了。\n这样直接去压缩，就多做了许多重复工作，比如你需要不断压缩压缩…\n这样的话，对于分辨率要求不高，图片大小比较小的图片，比如非背景图、头像之类。我们可以先经过下面的预处理步骤：</p>\n<ul>\n<li>Windows 自带画图工具调整分辨率</li>\n<li>屏幕截图</li>\n</ul>\n<p>这两者对精度要求较低的图片进行<strong>野蛮</strong>压缩效果可是很明显的。</p>\n<h2>开始压缩</h2>\n<p>经过一晚上的实验，并且结合我自己的需求，得出如下结论：</p>\n<ul>\n<li>格式转换首选：<strong>iSparta</strong>\n<ul>\n<li>此软件可将 <code class=\"language-text\">PNG</code> 格式转换为 <code class=\"language-text\">WebP</code>, <code class=\"language-text\">APNG</code> 格式的图片，具有其他软件没有的功能</li>\n<li>图片压缩能力一般，某些界面没有进度提示</li>\n</ul>\n</li>\n<li>普通需求首选：<strong>limitPNG</strong>\n<ul>\n<li>界面赏心悦目，交互简易方便</li>\n<li>压缩能力超强！可供选项较多，分无损和有损等等很多细分选项</li>\n<li>极低画质压缩能力稍弱</li>\n</ul>\n</li>\n<li>极普通需求，又不想下载软件首选：<strong>TinyPNG</strong>\n<ul>\n<li>在线无损压缩</li>\n<li>缺点就是无法选择输出质量</li>\n<li>如果你只是想稍微无损压缩一下一张图片，那么可以选这个了</li>\n</ul>\n</li>\n<li>我的首选！<strong>智图</strong>\n<ul>\n<li>客户端界面美观、交互也简便</li>\n<li>压缩能力超强，支持 10~95 等 14 级压缩选项</li>\n<li>多图片操作亦方便</li>\n<li>可“递归压缩” —> 不断压缩同一张图片直至很小很小，上面其他软件最低质量有所保留</li>\n<li>支持图片格式自动转换：根据图片内容自动转换为合适的格式</li>\n</ul>\n</li>\n</ul>\n<p>图片压缩的第一步已经完成了，也就是上传之前的压缩。</p>\n<p>我的图片原来超过 2M，因为之前没去理他…在压缩过后使用首页加载的 4 张图片总体积不超过 70k，虽然离很多优秀的优化还差得远，\n但是对于目前的我已经比较满意了。</p>\n<h1>2 HTML, JS, CSS &#x26; Image 压缩插件</h1>\n<p>只是压缩图片显然没法满足需求，因为我注意到首页加载的某些 <code class=\"language-text\">js, css</code> 文件大小也比较大。\n所以我们亦需要一些压缩代码的工具。所以我找到了 Hexo 的插件 <a href=\"https://github.com/chenzhutian/hexo-all-minifier\">hexo-all-minifier</a>。\n这个插件集合了：</p>\n<blockquote>\n<p>hexo-html-minifier, which is based on HTMLMinifier\nhexo-clean-css, which is based on clean-css\nhexo-uglify, which is based on UglifyJS\nhexo-imagemin, which is based on imagemin</p>\n</blockquote>\n<p>四款插件，一次就搞定所有事情。\n插件安装和配置而已参看<a href=\"https://github.com/chenzhutian/hexo-all-minifier\">hexo-all-minifier</a>项目首页。\n该插件生效之后，我惊奇的发现我那些图片又被压缩了一点点，意外惊喜…</p>\n<hr>\n<p>此篇文章属于经验之谈，不具有多少技术性东西。非常感谢上述工具和项目，有许多甚至都是开源的。\n这是世界因为你们变得更好，感谢~</p>\n<hr>\n<p><em>参看</em>：</p>\n<ul>\n<li><a href=\"http://www.cnblogs.com/observernotes/p/4806218.html\">前端图片选择问题</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000008082288\">hexo 博客压缩优化</a></li>\n<li><a href=\"https://www.zhihu.com/question/20027708\">网站开发中，如何将一张图片压缩得更小？</a></li>\n</ul>","frontmatter":{"title":"Hexo 博客优化入门（一）","date":"2017-08-06","description":"昨晚在本地折腾博客的时候，总是对自己博客的加载速度很不满意...","excerpt":null}},"previous":{"fields":{"slug":"unknow-command-or-service-error-in-oh-my-zsh"},"frontmatter":{"title":"修复 oh-my-zsh 和 Git 的搭配错误"}},"next":{"fields":{"slug":"using-proxy-for-desktop-program-on-ubuntu"},"frontmatter":{"title":"如何在 Ubuntu 对桌面程序使用代理"}}},"pageContext":{"id":"6b03c3b0-73a5-5745-8fb7-7d4d45157f18","previousPostId":"e79a4a13-9c23-5f70-a94e-3abaebb6df4c","nextPostId":"f87c04cc-e689-5bda-abae-f6df68d73041"}},"staticQueryHashes":["2082311839","2355076697","959449634"],"slicesMap":{}}